var _gaq=_gaq||[];var _msCD=[];var _msP=[["","UA-10521781-1"]];var _msUseAsync=true;var _trackSubmit=false;jQuery(function(a){a(document).bind("ready._ms",h);function h(){a("a")._msLinksTracker({outbound:{run:true,useEvent:true},download:{run:true,useEvent:true,reg:".(zip|pdf|rtf).aspx$"},ext:/.(doc.?|xls.?|ppt.?|exe|zip|rar|gz|tar|dmg|csv|pdf|xpi|txt)$/i,mail:{run:true,useEvent:true},self:{run:false,useEvent:true}});if(_trackSubmit){window.addEventListener("submit",j,true);HTMLFormElement.prototype._submit=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=j}}a.fn._getStrAttr=function(m){try{var n=a(this).attr(m);if(n==undefined){n=a(this).prop(m)}return n}catch(o){return""}};function i(m,n){for(var o=0;o<n.length;o++){var p=new RegExp(n[o],"i");if(p.test(m)){return o}}return -1}function j(m){var n=m?m.target:this;var o=n.action;o=o.replace(/^https?:\/\//i,"");hostname=o.substr(0,o.indexOf("/"));if(hostname.length!=0){if(i(hostname,_msCD)!=-1){b(n)}}if(this._submit){this._submit()}}function b(m){var n=m.action;for(var p=0;p<_msP.length;p++){if(_msUseAsync){var o=(_msP[p][0].length==0)?"":_msP[p][0]+".";m.action=n;_gaq.push([o+"_linkByPost",m])}else{var q=_gat._getTrackerByName(_msP[p][0]);q._linkByPost(m)}}}function c(m){for(var o=0;o<_msP.length;o++){if(_msUseAsync){var n=(_msP[o][0].length==0)?"":_msP[o][0]+".";_gaq.push([n+"_link",m])}else{var p=_gat._getTrackerByName(_msP[o][0]);p._link(m)}}}function d(m,n,o,p){for(var r=0;r<_msP.length;r++){if(_msUseAsync){var q=(_msP[r][0].length==0)?"":_msP[r][0]+".";(p.length==0)?_gaq.push([q+"_trackEvent",m,n,o]):_gaq.push([q+"_trackEvent",m,n,o,p])}else{var s=_gat._getTrackerByName(_msP[r][0]);(p.length==0)?s._trackEvent(m,n,o):s._trackEvent(m,n,o,p)}}}function f(m,n,o,p){for(var r=0;r<_msP.length;r++){var q=(_msP[r][0].length==0)?"":_msP[r][0]+".";_gaq.push([q+"_trackSocial",m,n,o,p])}}function e(m,n){n=(n.charAt(0)=="/")?n:"/"+n;for(var p=0;p<_msP.length;p++){if(_msUseAsync){var o=(_msP[p][0].length==0)?"":_msP[p][0]+".";_gaq.push([o+"_trackPageview",m+n])}else{var q=_gat._getTrackerByName(_msP[p][0]);q._trackPageview(m+n)}}}function g(m,n){if(!m){return}var m=m.split("#")[0];var o=m.split("?");if(o.length==1){return}var p=decodeURI(o[1]);n+="=";var q=p.split("&");for(var r=0,s;s=q[r];++r){if(s.indexOf(n)===0){return unescape(s.split("=")[1])}}return}function l(m){try{if(twttr&&twttr.events&&twttr.events.bind){twttr.events.bind("tweet",function(o){if(o){var p;if(o.target&&o.target.nodeName=="IFRAME"){p=g(o.target.src,"url")}f("twitter","tweet",p,m)}})}}catch(n){}}function k(m){try{if(FB&&FB.Event&&FB.Event.subscribe){FB.Event.subscribe("edge.create",function(o){f("facebook","like",o,m)});FB.Event.subscribe("edge.remove",function(o){f("facebook","unlike",o,m)});FB.Event.subscribe("message.send",function(o){f("facebook","send",o,m)});FB.Event.subscribe("comment.create",function(o){_gaq.push(["_trackSocial","facebook","comment",o])});FB.Event.subscribe("comment.remove",function(o){_gaq.push(["_trackSocial","facebook","uncomment",o])})}}catch(n){}}a.fn._msGenericTracker=function(m){var n={run:true,useEvent:true,event:"click",eventParam:{category:"click",action:"",label:"click",value:"0"},pageviewParam:{category:"",pages:"click"}};var n=a.extend(true,n,m);if(n.eventParam.action.length==0){n.eventParam.action=n.event}if(n.pageviewParam.category==0){n.pageviewParam.category=n.event}return a(this).bind(n.event+"._ms",function(){if(n.run){if(n.useEvent){d(n.eventParam.category,n.eventParam.action,n.eventParam.label,n.eventParam.value)}else{e(n.pageviewParam.category,n.pageviewParam.pages)}}return false})};a.fn._msLinksTracker=function(m){var n={outbound:{run:true,useEvent:true},download:{run:true,useEvent:true,reg:""},self:{run:true,useEvent:true},mail:{run:true,useEvent:true},ext:/\.(doc.?|xls.?|ppt.?|exe|zip|rar|gz|tar|dmg|csv|pdf|xpi|txt|mp3)$/i};var n=a.extend(true,n,m);return a(this).bind("click._ms",function(){if(a(this).attr("href")==undefined||a(this).attr("href")==null){return}var o=a(this).attr("href");if(o.length==0){return}var p=a(this)._getStrAttr("hostname").toLowerCase();var q=a(this)._getStrAttr("pathname");if(q.length>0&&q.substr(0,1)!="/"){q="/"+q}var r=a(this)._getStrAttr("protocol");var s=a(this)._getStrAttr("search");var t=location.host;t=(t.replace(/^www\./i,"")).toLowerCase();p=(p.replace(/^www\./i,"")).toLowerCase();if(o.match(/^#/)){if(n.self.run){n.self.useEvent?d("self","click",o,""):e("/virtual/self","/"+o);return true}}else{if(r.match(/^mailto:/i)){if(n.mail.run){o=o.replace(/^mailto:/i,"");n.mail.useEvent?d("mailto","click",o,""):e("/virtual/mailto",o);return true}}else{if((new RegExp(n.ext)).test(q)){if(n.download.run){o=o.replace(/^https?:\/\//i,"");n.download.useEvent?d("download","click",o,""):e("/virtual/download",o);return true}}else{if(p==undefined||p.length==0||r.match(/^javascript:/i)){return}else{if(new RegExp(t+"$","i").test(p)||new RegExp(p+"$","i").test(t)){if(n.download.run&&n.download.reg.length!=0){if(new RegExp(n.download.reg,"i").test(q+s)){o=o.replace(/^https?:\/\//i,"");n.download.useEvent?d("download","click",o,""):e("/virtual/download",o);return true}}}else{if(p!=t){if(i(p,_msCD)==-1){if(n.outbound.run){n.outbound.useEvent?d("outbound","click",p+q,""):e("/virtual/outbound",p+q);return true}}else{if(i(p,_msCD)!=-1){var u=a(this).attr("target");if(u!=null&&u=="_blank"){var v=(_msP[0][0].length==0)?"":_msP[0][0]+".";var w=_gat._getTrackerByName(v);a(this).attr("href",w._getLinkerUrl(o));return true}else{c(o,u);return false}}}}}}}}}})}});